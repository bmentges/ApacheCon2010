
   if(!dbugScripts("commerce",["commerce.tron.dfll.js"])) {
   /*	commerce.tron.dfll.js - packed	*/
       var StickyWinModal,StickyWinFxModal;(function(){var A=function(C){return{Extends:C,initialize:function(D){D=D||{};this.setModalOptions($merge(D.modalOptions||{},{onModalHide:function(){this.hide(false);}.bind(this)}));this.parent(D);},show:function(D){if($pick(D,true)){this.modalShow();this.win.getElements(this.modalOptions.elementsToHide).setStyle("opacity",1);}this.parent();},hide:function(D){if($pick(D,true)){this.modalHide();}this.parent($pick(D,true));}};};StickyWinModal=new Class(A(StickyWin));StickyWinModal.implement(new Modalizer);StickyWinFxModal=(typeof StickyWinFx!="undefined")?new Class(A(StickyWinFx)):$empty;try{StickyWinFxModal.implement(new Modalizer());}catch(B){}})();var PromoModal=new Class({Implements:[Options,Events],options:{promoPath:"/html/cnet/reviews/idleMsg.html",timeout:300000,activityReset:true,activityActions:["click","scroll","mousemove","keypress"],testSuccess:function(){return true;}},timer:false,initialize:function(A){this.setOptions(A);this.bound={timerReset:this.resetTimer.bind(this)};this.setTimer();return this;},getContent:function(){this.container=this.container||new Element("div",{id:"promoModal",styles:{display:"none",position:"absolute"}}).inject(document.body);new Request({url:this.options.promoPath,onSuccess:this.success.bind(this),onFailure:this.failure.bind(this),onComplete:this.complete.bind(this)}).send();},success:function(){if(this.options.testSuccess.run(arguments,this)){this.loadPromo.run(arguments,this);this.fireEvent("onSuccess",arguments);}else{this.failure.run(arguments);}},failure:function(){this.fireEvent("onFailure",arguments);},complete:function(){this.fireEvent("onComplete",arguments);},loadPromo:function(A){if(A){this.container.set("html",A);this.promo=new StickyWinModal({content:this.container.get("html"),closeClassName:"closeModal",allowMultiple:false,onClose:function(){this.fireEvent("onClose");}.bind(this)});this.fireEvent("onDisplay");}else{dbug.log("Response text failure");}if(this.options.activityReset&&this.options.activityActions.length){this.options.activityActions.each(function(B){window.removeEvent(B,this.bound.timerReset);},this);}},setTimer:function(){this.startTimer();if(this.options.activityReset&&this.options.activityActions.length){this.options.activityActions.each(function(A){window.addEvent(A,this.bound.timerReset);},this);}},startTimer:function(){this.timer=this.getContent.delay(this.options.timeout,this);},resetTimer:function(){if(this.timer){$clear(this.timer);this.startTimer();}}});PromoModal.GlobalModal=new Class({Extends:PromoModal,loadPromo:function(A){if(A){this.container.set("html",A);this.promo=new GlobalModal({content:this.container.get("html")});this.promo.show();}else{dbug.log("Response text failure");}if(this.options.activityReset&&this.options.activityActions.length){this.options.activityActions.each(function(B){window.removeEvent(B,this.bound.timerReset);},this);}}});var CompareProducts=new Class({Implements:Options,options:{alterLinks:null,submitLinks:null,mainForm:null,listPageType:"4566"},initialize:function(A){this.setOptions(A);this.form=$(this.options.mainForm);this.pids=this.getPassedIds(window.location.href)||[];this.setUpForm();},setUpForm:function(){this.initForm();this.initPageLinks();this.initCheckboxes();},initForm:function(){this.form.addEvent("submit",function(A){this.fauxSubmit(A);}.bind(this));if(this.options.submitLinks){this.options.submitLinks.each(function(A){A.addEvent("click",function(B){this.fauxSubmit(B);}.bind(this));}.bind(this));}},fauxSubmit:function(B){if(B){B.stop();}if(this.pids.length<2){alert("Please select two or more products to compare.");return ;}var C=this.form.action;C+=(C.contains("?"))?"&":"?";C+=this.getPidString();try{var A=new DWTrack(B.target||this.form,{autoAppend:false}).getTag();if(A!=""){C+="&"+A;}}catch(B){}window.location=C;},initPageLinks:function(){this.options.alterLinks.each(function(A){if(A.getProperty("href")&&A.getProperty("href").contains("/"+this.options.listPageType+"-")){A.addEvent("click",function(C){var B=A.getProperty("href");if(B.match(/\?/)){B=B.replace(/\&*id=[0-9]+/g,"");B=B.replace("?&","?");}if(this.pids.length){B+=(B.match(/\?/))?"&":"?";B+=this.getPidString();}A.setProperty("href",B);}.bind(this));}},this);},initCheckboxes:function(){var A=this.form.getElements("input[type=checkbox]");A.each(function(B){B.addEvent("click",function(){if(B.checked){this.togglePids(B.get("value"),"add");}else{this.togglePids(B.get("value"),"remove");}}.bind(this));if(B.checked){this.pids.include(B.get("value"));}if(this.pids.contains(B.get("value"))){B.checked="checked";}}.bind(this));},togglePids:function(A,B){B=B||null;if(!B){B=(this.pids.contains(A))?"remove":"add";}if(B=="add"){this.pids.include(A);}else{this.pids.erase(A);}},getPidString:function(){if(!this.pids.length){return null;}var B="";for(var A=0;A<this.pids.length;A++){B+="id="+this.pids[A];if(A<this.pids.length-1){B+="&";}}return B;},getPassedIds:function(A){var B=A.match(/id=([0-9]+)/g);if(B){B=B.map(function(C){return C.replace("id=","");});return B;}return null;}});var cleanSubmit=function(A){try{A=$(A);var C=new Link(A.get("action"));A.getElements("input, select, textarea").each(function(D){if($chk(D.get("value"))){C.setQuery(D.get("name"),D.get("value").replace(/\s/,"+","g"));}});window.location=C.get("href");}catch(B){dbug.log("Clean submit error: %o",B);}};var DFLLMenu={Menu:new Class({Implements:[Options,Events,StyleWriter],options:{section$$:"div.section",submit$$:"div.flexButton",submitTag:"dfll_search",resultCheckUrl:PageVars.getPath({pageType:4565,pageNumber:false}),waiterSrc:"http://i.i.com.com/cnwk.1d/i/tron/reviews/dfllTipSpinner.gif",searchButtonSrc:"http://i.i.com.com/cnwk.1d/i/tron/reviews/dfllTipSrch.gif"},initialize:function(B,A){B=$(B);if(B.retrieve("dfllmenu")){return ;}this.element=B;this.setOptions(A);B.store("dfllmenu",this);this.createStyle("#contentNav #filters ul li label.warning, #contentNav #filters ul li span.warning, #contentNav #filters ul li label.warning a {color: #C00;font-weight: bold;} .dfllmenutips .tip-title {text-align: center;} .dfllmenutips .tip-title b {font-size: 120%}","dfllmenu");this.form=(B.get("tag")=="form")?B:B.getElement("form");this.form.reset();this.addFormValidator();this.setTips();this.setResultCheck();this.setSubmit();this.setSections();this.setStates();},setTips:function(){this.form.store("tip:title","Select options to filter your results.");if(!Browser.loaded&&Browser.Engine.trident){this.tips={fill:$empty};window.addEvent("domready",function(){this.tips=new Tips(this.form,{className:"dfllmenutips"});}.bind(this));}else{this.tips=new Tips(this.form,{className:"dfllmenutips"});}new Image().src=this.options.waiterSrc;new Image().src=this.options.searchButtonSrc;},setSubmit:function(){this.bound={doNothing:function(){return false;}.bind(this),onSubmit:this.onSubmit.bind(this)};this.submit=this.form.getElement(this.options.submit$$);this.submit.addEvent("click",this.bound.onSubmit);},setResultCheck:function(){this.requestor=new Request.JSON({url:this.options.resultCheckUrl,async:false,method:"get"});},addFormValidator:function(){this.form.getElements("li.priceFields input[type=text]").addClass("validate-numeric");this.validator=new FormValidator(this.form,{evaluateOnSubmit:false,evaluateFieldsOnChange:false,evaluateFieldsOnBlur:false});},validate:function(){var A;this.validator.reset();this.validator.paused=false;this.form.getElements("li.priceFields input[type=text]").each(function(B){B.value=B.value.replace(",","");});A=this.validator.validate();if(!A){this.relocateButton($(this.form.getElement("li.priceFields input")));}return A;},setSections:function(){this.element.getElements(this.options.section$$).each(function(A){new DFLLMenu.Section(A,this);});this.form.getElements("li > ul").each(function(A){A.getParent("li").addClass("section");});this.form.getElements("li.selected > label").each(function(A){A.addClass("selected");});this.form.getElements("li.section > label input[type=checkbox]").each(function(A){new DFLLMenu.ExpandList(A,this);A.getParent("label").adopt(new Element("span",{"class":"arrow"}));});},setStates:function(){this.form.getElements("input[type=checkbox]").addEvent("click",this.changeState.bind(this));this.form.getElements("input[type=text]").addEvent("keypress",function(A){$clear(this.textTimer);this.textTimer=this.changeTextState.delay(500,this,A);}.bind(this));},changeTextState:function(A){if(this.validator.validate()){this.changeState(A);}},changeState:function(C){this.updateTipText("title",'<img src="'+this.options.waiterSrc+'" style="width: 16px; height: 16px; margin: 0 auto;" class="waiterImg"/><br/>&nbsp;');var B=$(C.target),A=B.getParent("li");if(B.getProperty("type")=="checkbox"){if(B.checked){A.addClass("selected");}else{A.removeClass("selected");}}else{if(this.warned&&B.getProperty("type")=="text"){if(!B.get("value")){this.form.getElements(".warning."+B.getProperty("name").replace("Price","")).removeClass("warning");}}}if(!B.checked){A.removeClass("warning");A.getChildren("label").removeClass("warning");}this.requestor.send(this.getLink().setQuery("nomesh",null).get("queryString").replace("?",""));this.checkResults(this.requestor.response.json,C);this.relocateButton(B);},relocateButton:function(C){var D;if($type(C)=="event"){C=$(C.target);}var B=C.getParent(this.options.section$$),A=B.getElement(this.options.submit$$);if(A){A.setStyle("display","block");}else{D=this.submit.clone().cloneEvents(this.submit);D.setStyle("display","none");D.inject(B);D.reveal({onComplete:function(){if(this.warned){D.fade(0.3);}}.bind(this)});}},onSubmit:function(B){var A=(B)?$(B.target):null;if(B){B.stop();}if(!this.validate()){return false;}window.location.href=this.getLink(A).setQuery("tag",this.getSubmitTag(A)).get("href");},getLink:function(){var A=this.form.getElements("input[checked]"),B=new Link(PageVars.getPath({pageNumber:false})).mergeQueryString(window.location.search).mergeQueryString({minPrice:false,maxPrice:false,tag:false});A=A.map(function(C){return C.get("value");});B.setQuery("filter",A.join("_"));this.element.getElements("input[type=text], input[type=hidden]").each(function(C){if(C.get("value")){B.setQuery(C.get("name"),C.get("value"));}});return B;},getSubmitTag:function(D){var A=this.options.submitTag,C,B,E;if(D){C=D.getParent(this.options.section$$)||D;B=C.getElement("h3");if(B){E=B.get("text").toLowerCase().replace(" ","_");A+=";"+E;}B=C.getElement("ul");if(B){E=B.getProperty("section");}if(E){A+=";"+E;}}return A;},checkResults:function(B,C){this.form.getElements(".warning").removeClass("warning");var A;if(B&&B.CNETResponse&&!B.CNETResponse.Error){A=B.CNETResponse.TechProducts["@numFound"].toInt();if(A){if(this.warned){this.removeWarnings();}this.updateTipText("title","<b>"+A+" result"+(A>1?"s ":" ")+'found</b><br/>Click <img src="'+this.options.searchButtonSrc+'" width="46" height="13" alt="search" style="vertical-align:bottom;" /> to view.');}else{this.addWarnings(C);}}else{this.removeWarnings();this.updateTipText("title",'Click <img src="'+this.options.searchButtonSrc+'" width="46" height="13" alt="search" style="vertical-align:bottom;" /> to view results.');}},updateTipText:function(A,B){if(!["title","text"].contains(A)){return false;}this.form.store("tip:"+A,B);this.tips.fill(this.tips[A+"Element"],B);},addWarnings:function(D){var A=this.form.getElements(this.options.submit$$),C=this.form.getElements("li.selected"),B=this.form.getElements("input[name$=Price]");$$(C,C.getChildren("label")).addClass("warning");B.each(function(E){if(E.get("value")){E.getParent("ul").getElement("."+E.getProperty("name").replace("Price","")).addClass("warning");}});this.updateTipText("title","<b>No results found</b><br/>Please change your selections.");new Jlogger({tag:"dfll_noresults",srcUrl:this.getLink().get("href")}).ping();A.fade(0.3);A.removeEvent("click",this.bound.onSubmit);this.form.addEvent("submit",this.bound.doNothing);this.warned=true;},removeWarnings:function(){var A=this.form.getElements(this.options.submit$$);A.fade("in");A.addEvent("click",this.bound.onSubmit);this.form.removeEvent("submit",this.bound.doNothing);this.warned=false;}}),Section:new Class({Implements:[Options,Events],options:{list$$:"ul",showCount:7,seeMore$$:".seeAll",seeMoreLink$$:"a.readMore",idealHeight:200},initialize:function(B,D,A){var C;this.setOptions(A);B=$(B);if(B.retrieve("dfllmenusection")){return false;}C=B.getElement(this.options.seeMore$$);if(!C){return false;}this.seeMore=C;this.element=B;B.store("dfflmenusection",this);this.menu=D;this.list=B.getElement(this.options.list$$);this.topNodes=this.list.getChildren("li");this.setInitialDisplay();this.initSeeMore();},setInitialDisplay:function(){if(this.topNodes.length<=this.options.showCount){this.seeMore.setStyle("display","none");return ;}this.hideOthers();this.height=this.list.getSize().y;},initSeeMore:function(){var A=this.seeMore.getElement(this.options.seeMoreLink$$);if(!A){return ;}A.addEvent("click",this.seeMoreClick.bind(this));},seeMoreClick:function(){var B=this.seeMore.getElement(this.options.seeMoreLink$$),A=this.element.getSize().y;if(!this.list.hasClass("expanded")){this.list.setStyle("height",(A<this.options.idealHeight)?this.options.idealHeight:A);this.topNodes.setStyle("display","block");B.set("text",B.get("text").replace("See all","See fewer"));this.list.addClass("expanded");}else{this.list.setStyle("height","auto");this.list.removeClass("expanded");this.hideOthers();B.set("text",B.get("text").replace("See fewer","See all"));}},findToShow:function(){var B=this.list.getChildren(".selected"),A;if(!B.length){A=this.topNodes.filter(function(D,C){return C<this.options.showCount;},this);}else{A=B;}return A;},hideOthers:function(A){A=A||this.findToShow();this.topNodes.each(function(B){B.setStyle("display",(A.contains(B))?"block":"none");});}}),ExpandList:new Class({Implements:Options,options:{},initialize:function(B,C,A){this.element=$(B);this.menu=C;this.setOptions(A);this.initList();},initList:function(){this.element.addEvent("click",this.onChange.bind(this));},onChange:function(D){var C=$(D.target),B=C.getParent("li"),A=B.getChildren("ul");if(A.length){A=A[0];if(C.checked){A.set({"class":"selected",styles:{display:"none"}});B.addClass("selected");C.getParent("label").addClass("selected");$$(B.getElements("input")).setStyle("display","block");A.reveal();}else{var E=A.getElements("ul");$$($A(E.getElements("input")).flatten()).setStyle("display","none");A.get("reveal").chain(function(){$$(B,B.getElements(".selected")).removeClass("selected");B.getElements("input[checked]").removeProperty("checked");E.setStyles({display:"none"});});A.dissolve();}}}})};var ThumbScroller=new Class({Extends:Fx.Scroll,scrollOptions:{thumbs:".box",axis:"x",thumbContainer:null,nav:{},startIndex:0,tolerance:0},initialize:function(A,B){if($(A).retrieve("thumbscroller")){return false;}this.parent(A,$merge(this.scrollOptions,B));this.element.store("thumbscroller",this);this.element.setStyle("overflow","hidden");this.computeDimensions();this.initNav();this.toIndex(this.options.startIndex);this.lastScroll=null;this.fireEvent("onInitialize");return this;},computeDimensions:function(){this.thumbs=this.element.getElements(this.options.thumbs);this.setParentSize();this.positions=this.getLocations();return this;},isAtEnd:function(A){A=A||this.getRange();var B=A[A.length-1];return(B.index==this.thumbs.length-1&&(B.type!="partial"||B.tolerated));},isAtStart:function(A){A=A||this.getRange();var B=A[0];return(B.index==0&&(B.type!="partial"||B.tolerated));},getLocations:function(){return this.thumbs.map(function(B){var C=B.getComputedSize()[this.getDir("total")];var A=B.getPosition(B.getParent())[this.getDir("xy")];return{size:C,start:A,end:C+A};},this);},initNav:function(){$$(this.options.nav.next).addEvent("click",this.toNextScreen.bind(this));$$(this.options.nav.previous).addEvent("click",this.toPreviousScreen.bind(this));$$(this.options.nav.start).addEvent("click",this.toStart.bind(this));$$(this.options.nav.end).addEvent("click",this.toEnd.bind(this));},getDir:function(A){switch(A){case"total":if(this.options.axis=="y"){return"totalHeight";}return"totalWidth";case"dir":if(this.options.axis=="y"){return"height";}return"width";case"xy":default:if(this.options.axis=="y"){return"y";}return"x";}},getStart:function(A){if(this.options.axis=="y"){return[0,A];}return[A,0];},getStartPx:function(A){if(!A){return 0;}return this.positions[A].start-(this.positions[A].start-this.positions[A-1].end);},setParentSize:function(){var A=(this.options.thumbContainer)?this.element.getElement(this.options.thumbContainer):this.element.getElement(this.options.thumbs).getParent();var B=0;$each(this.thumbs,function(C){B+=C.getComputedSize({styles:["padding","border","margin"]})[this.getDir("total")];},this);A.setStyle(this.getDir("dir"),B);},getRange:function(E){E=E||this.element.getScroll()[this.getDir("xy")];var D=this.element.getComputedSize({styles:["padding"]})[this.getDir("total")];var C=[];for(var A=0;A<this.positions.length;A++){var B=this.withinRange(this.positions[A],E,E+D);if(B){C.push($merge(B,{index:A}));if(B.where=="end"){break;}}}return C;},withinRange:function(C,B,A){if(C.end>B&&C.end<=A){if(C.start>=B){return{type:"full"};}else{return{type:"partial",where:"start",tolerated:((B-C.start)<=this.options.tolerance)};}}else{if(C.start>=B&&C.start<A){return{type:"partial",where:"end",tolerated:((C.start-A)<this.options.tolerance)};}else{if(C.start<B&&C.end>A){return{type:"full"};}}}return false;},toNextScreen:function(){var A=this.getRange();if(A.getLast().type=="partial"&&!A.getLast().tolerated&&A.length>1){this.start.run(this.getStart(this.getStartPx(A.getLast().index)),this);}else{if($(this.thumbs[A.getLast().index+1])){this.start.run(this.getStart(this.getStartPx(A.getLast().index+1)),this);}else{this.toEnd();}}this.lastScroll="next";},toPreviousScreen:function(){var A=this.getRange();var C=(A[0].type=="partial"&&!A[0].tolerated&&A.length>1)?A[0].index:A[0].index-1;if(!this.positions[C]){this.toStart();return ;}var B=this.positions[C].end-this.element.getComputedSize({styles:["padding"]})[this.getDir("total")];var E=this.getRange(B);var D=(E[0].type=="partial"&&E.length>1)?E[0].index+1:E[0].index;this.start.run(this.getStart(this.getStartPx(D)),this);this.lastScroll="previous";},toIndex:function(A){this.start.run(this.getStart(this.getStartPx(parseInt(A))),this);},toStart:function(){if(this.options.axis=="y"){this.toTop();}else{this.toLeft();}},toEnd:function(){if(this.options.axis=="y"){this.toBottom();}else{this.toRight();}}});var JsonP=new Class({Implements:[Options,Events],options:{callBackKey:"callback",queryString:"",data:{},timeout:5000,retries:0},initialize:function(B,A){this.setOptions(A);this.url=this.makeUrl(B).url;this.fired=false;this.scripts=[];this.requests=0;this.triesRemaining=[];},request:function(C,E){var B=this.makeUrl(C);if(!$chk(E)){E=this.requests;this.requests++;}if(!$chk(this.triesRemaining[E])){this.triesRemaining[E]=this.options.retries;}var D=this.triesRemaining[E];dbug.log("retrieving by json script method: %s",B.url);var A=(Browser.Engine.trident)?50:0;(function(){var F=new Element("script",{src:B.url,type:"text/javascript",id:"jsonp_"+B.index+"_"+E});this.fired=true;this.addEvent("onComplete",function(){try{F.dispose();}catch(G){}}.bind(this));F.inject(document.head);if(D){(function(){this.triesRemaining[E]=D-1;if(F.getParent()&&D){dbug.log("removing script (%o) and retrying: try: %s, remaining: %s",E,D);F.dispose();this.request(C,E);}}).delay(this.options.timeout,this);}}.bind(this)).delay(A);return this;},makeUrl:function(B){var A;if(JsonP.requestors.contains(this)){A=JsonP.requestors.indexOf(this);}else{A=JsonP.requestors.push(this)-1;JsonP.requestors["request_"+A]=this;}if(B){var D=(B.test("\\?"))?"&":"?";var C=B+D+this.options.callBackKey+"=JsonP.requestors.request_"+A+".handleResults";if(this.options.queryString){C+="&"+this.options.queryString;}C+="&"+Hash.toQueryString(this.options.data);}else{var C=this.url;}return{url:C,index:A};},handleResults:function(A){dbug.log("jsonp received: ",A);this.fireEvent("onComplete",[A,this]);}});JsonP.requestors=[];if(!UserLists){var UserLists={};UserLists.Manager={listForms:new Hash({}),getUserListModal:function(B,A){dbug.log("getUserListModal");CURS.Manager.checkLogin({loginHed:"Log in to CNET to add this product to a list",registerHed:"Join CNET to add this product to a list",appId:222,cval:"userlist",nextAction:function(){if(B=="AddToList"||B=="CreateList"){UserLists.Manager.initListAssetData(A);}UserLists.Manager.getUserListFiles(B);}.bind(UserLists)});},getUserListFiles:function(A){var B;if(dbug.enabled||Browser.qs.jsdebug){if(CBSi.jsdebug){if(CBSi.jsdebug=="true"){B="http://publish.cnet.com:8100/html/rb/js/tron/techtracker/techtracker.tron.userlists.process.js";}else{B="http://publish.cnet.com:8100/html/rb/js/~dev/"+CBSi.jsdebug+"/techtracker/techtracker.tron.userlists.process.js";}}else{B="http://i.i.com.com/cnwk.1d/html/rb/js/tron/techtracker/techtracker.tron.userlists.process.compressed.js";}}else{B="http://i.i.com.com/cnwk.1d/html/rb/js/tron/techtracker/techtracker.tron.userlists.process.compressed.js";}if(!UserLists.Process){new Asset.javascript(B,{id:"userListsProcess",onload:(!A)?function(){}:this.getUserListModalHtml.bind(this,A)});}else{if(A){this.getUserListModalHtml(A);}}},startProcess:function(A){dbug.log("start user list process");if(UserLists.Process&&$("userListShell")){UserLists.Process.showUserListForm(A);}},getUserListModalHtml:function(B){dbug.log("getUserListModalHtml");var A=new Hash();UserLists.UserListData.listItemsToAdd.each(function(C){if(C.assetTypeId==2){A.extend({techProductId:true});}else{if(C.assetTypeId==24){A.extend({softwareProductId:true});}}});if(!document.body.getElement(".globalModal.userList")){new Element("div",{id:"userListShell",styles:{display:"none"}}).inject(document.body);new Request({url:"/8690-4_"+PageVars.get("siteId")+"-0.html?nomesh&"+$time(),data:A,method:"get",onSuccess:function(C){$("userListShell").set("html",C);if($("userHasLists")){UserLists.Manager.userHasLists=true;}UserLists.Process.showUserListForm(B);}.bind(UserLists)}).send();}else{UserLists.Process.showUserListForm(B);}},initFormValidator:function(A){UserLists.Manager.listForms[A].validator=new UserListFormValidator($(A).getElement("form"),{evaluateFieldsOnBlur:false,evaluateFieldsOnChange:false,evaluateOnSubmit:false,errorPrefix:""});},initListAssetData:function(A){dbug.log("init data");UserLists.UserListData.listItemsToAdd.empty();UserLists.Manager.cvalTarget=(!$$(A).getParent(".contentTools"))?"button":"link";if(!A.length){A=[A];}A.each(function(C){var B={assetId:C.getProperty("productId").toInt(),assetTypeId:C.getProperty("productType").toInt(),name:C.getProperty("productName"),image:C.getProperty("productImage")};if(C.getProperty("productSetId")){B.productSetId=C.getProperty("productSetId").toInt();}UserLists.UserListData.listItemsToAdd.push(B);});},pingDW:function(A,B,C){new Jlogger({tag:A,element:false,ctype:B,cval:C}).ping();}};UserLists.ListItem={getItemAssetId:function(A){if(UserLists.ListItem.assetId){return UserLists.ListItem.assetId;}else{if(A){return A;}}},getItemAssetTypeId:function(A){if(UserLists.ListItem.assetTypeId){return UserLists.ListItem.assetTypeId;}else{if(A){return A;}}},getItemName:function(A){if(UserLists.ListItem.assetName){return UserLists.ListItem.assetName;}else{if(A){return A;}}},getDownloadProductSetId:function(A){if(UserLists.ListItem.productSetId){return UserLists.ListItem.productSetId;}else{if(A){return A;}}},getItemImage:function(A){if(UserLists.ListItem.assetImage){return UserLists.ListItem.assetImage;}else{if(A){return A;}}}};UserLists.UserListData={userListDataObj:new Hash(),addToListLaunchTarget:new Hash(),listItemsToAdd:[],listsAddedTo:[],addToDataObj:function(B,A){UserLists.UserListData.userListDataObj.extend({field:decodeURIComponent(A)});},getListId:function(){if(PageVars.get("pageType")==3460){if(PageVars.get("assetId")!=0){return PageVars.get("assetId");}else{return $("editList").getElement("input[name=listId]").get("value");}}}};}window.addEvent("domready",function(){$$("a.linkIcon.addToList").setStyle("visibility","visible");});window.addEvent("domready",function(){$$("div.product").each(function(B){var C=B.getProperty("productid"),D=B.getElement(".productPrices"),E=B.getElement(".productPrices.offers");if(C&&D&&E){new Request({url:PageVars.getPath({pageType:1714,assetId:C,pageNumber:false})+"?nomesh&noluke&pageType="+PageVars.get("pageType"),onSuccess:function(F){D.set("html",D.get("html")+F);},method:"get"}).send();}});$$("a.toolTipElement").each(function(B){var C=B.getParent().getElement("ul.data");if(C){B.store("tip:text",C.getParent().get("html"));}else{B.store("tip:text","Information not available");}});$$(".contentTools a.share").each(function(B){B.addEvent("mouseenter",PageTools.openShare.bind(PageTools));});$$(".contentTools a.email").each(function(B){B.addEvent("click",PageTools.email);});$$(".contentTools a.print").each(function(B){B.addEvent("click",PageTools.print);});var A=$("filters");if(A&&A.hasClass("interactive")){new DFLLMenu.Menu("filters");}$$(".addToList").each(function(B){B.addEvent("click",function(){UserLists.Manager.getUserListModal("AddToList",B);});});});
   }
       